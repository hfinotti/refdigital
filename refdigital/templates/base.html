<!DOCTYPE html>
<html lang="pt-br">
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>Ref.Digital</title>

        <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.8/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-sRIl4kxILFvY47J16cr9ZwB07vP4J8+LH7qKQnuqkuIAvNWLzeN8tE5YBujZqJLB" crossorigin="anonymous" />
        <link href="{{ url_for('static', filename='Monda.css') }}" rel="stylesheet" type="text/css" media="screen" />
        <link href="{{ url_for('static', filename='main.css') }}" rel="stylesheet" type="text/css" />
        <script src="/_sdk/data_sdk.js" type="text/javascript"></script>
        <script src="/_sdk/element_sdk.js"></script>
        <link rel="preconnect" href="https://fonts.googleapis.com">
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link href="https://fonts.googleapis.com/css2?family=Space+Grotesk:wght@400;500;600;700&amp;display=swap" rel="stylesheet">
        <script src="https://cdn.tailwindcss.com"></script>
        <script>
            tailwind.config = {
                prefix: 'tw-', // Adiciona o prefixo 'tw-' a todas as classes Tailwind
                corePlugins: {
                    preflight: false, // Desativa o reset de estilos padrão do Tailwind
                }
            }
        </script>

        {% block head %}
        {% endblock %}

    </head>
    <body style="background-image: url('{{ url_for('static', filename='imagens/site_background.png') }}'); background-repeat: no-repeat; background-color: #000000;">

        {% include 'navbar.html' %}

        <!-- VERIFICA AS MENSAGENS DO SISTEMA E PRINTA ELAS NA TELA -->
        <div class="container" style="text-algin: center;">
            {% with mensagens = get_flashed_messages(with_categories=True) %}
                {% if mensagens %}
                    {% for categoria, mensagem in mensagens %}
                        <div class="alert {{ categoria }}" style="width: 50%">
                            {{ mensagem }}
                        </div>
                    {% endfor %}
                {% endif %}
            {% endwith %}
        </div>

        {% block body %}
        {% endblock %}

        <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.8/dist/js/bootstrap.bundle.min.js" integrity="sha384-FKyoEForCGlyvwx9Hj09JcYn3nv7wiPVlz7YYwJrWVcXK/BmnVDxM+D2scQbITxI" crossorigin="anonymous"></script>
        <script>
        const defaultConfig = {
          main_title: 'Perguntas Frequentes',
          subtitle: 'Encontre respostas para as dúvidas mais comuns',
          background_color: '#161616',
          accent_color: '#c6ff00',
          text_color: '#ffffff',
          font_family: 'Space Grotesk',
          font_size: 16
        };

        let config = { ...defaultConfig };

        function toggleFaq(element) {
          const answer = element.querySelector('.tw-faq-answer');
          const isActive = element.classList.contains('active');

          // Close all other items
          document.querySelectorAll('.tw-faq-item').forEach(item => {
            item.classList.remove('active');
            item.querySelector('.tw-faq-answer').classList.remove('open');
          });

          // Toggle current item
          if (!isActive) {
            element.classList.add('active');
            answer.classList.add('open');
          }
        }

        async function onConfigChange(cfg) {
          config = { ...defaultConfig, ...cfg };

          const titleEl = document.getElementById('main-title');
          const subtitleEl = document.getElementById('subtitle');

          if (titleEl) {
            titleEl.textContent = config.main_title || defaultConfig.main_title;
            titleEl.style.color = config.text_color || defaultConfig.text_color;
            titleEl.style.fontFamily = `${config.font_family || defaultConfig.font_family}, sans-serif`;
          }

          if (subtitleEl) {
            subtitleEl.textContent = config.subtitle || defaultConfig.subtitle;
          }

          // Update body background
          document.body.style.backgroundColor = config.background_color || defaultConfig.background_color;

          // Update accent elements
          const accentColor = config.accent_color || defaultConfig.accent_color;
          document.querySelectorAll('.tw-faq-icon').forEach(icon => {
            icon.style.background = accentColor;
          });

          // Update font
          const fontFamily = config.font_family || defaultConfig.font_family;
          document.querySelectorAll('*').forEach(el => {
            el.style.fontFamily = `${fontFamily}, sans-serif`;
          });

          // Update font size proportionally
          const baseSize = config.font_size || defaultConfig.font_size;
          if (titleEl) titleEl.style.fontSize = `${baseSize * 3}px`;
          if (subtitleEl) subtitleEl.style.fontSize = `${baseSize * 1.25}px`;
        }

        function mapToCapabilities(cfg) {
          return {
            recolorables: [
              {
                get: () => cfg.background_color || defaultConfig.background_color,
                set: (value) => {
                  cfg.background_color = value;
                  window.elementSdk.setConfig({ background_color: value });
                }
              },
              {
                get: () => cfg.accent_color || defaultConfig.accent_color,
                set: (value) => {
                  cfg.accent_color = value;
                  window.elementSdk.setConfig({ accent_color: value });
                }
              },
              {
                get: () => cfg.text_color || defaultConfig.text_color,
                set: (value) => {
                  cfg.text_color = value;
                  window.elementSdk.setConfig({ text_color: value });
                }
              }
            ],
            borderables: [],
            fontEditable: {
              get: () => cfg.font_family || defaultConfig.font_family,
              set: (value) => {
                cfg.font_family = value;
                window.elementSdk.setConfig({ font_family: value });
              }
            },
            fontSizeable: {
              get: () => cfg.font_size || defaultConfig.font_size,
              set: (value) => {
                cfg.font_size = value;
                window.elementSdk.setConfig({ font_size: value });
              }
            }
          };
        }

        function mapToEditPanelValues(cfg) {
          return new Map([
            ['main_title', cfg.main_title || defaultConfig.main_title],
            ['subtitle', cfg.subtitle || defaultConfig.subtitle]
          ]);
        }

        // Initialize SDK
        if (window.elementSdk) {
            window.elementSdk.init({
                defaultConfig,
                onConfigChange,
                mapToCapabilities,
                mapToEditPanelValues
            });
        }
        </script>
        <script>(function(){function c(){var b=a.contentDocument||a.contentWindow.document;if(b){var d=b.createElement('script');d.innerHTML="window.__CF$cv$params={r:'9bd75b35258bf1dd',t:'MTc2ODMzMzEzMS4wMDAwMDA='};var a=document.createElement('script');a.nonce='';a.src='/cdn-cgi/challenge-platform/scripts/jsd/main.js';document.getElementsByTagName('head')[0].appendChild(a);";b.getElementsByTagName('head')[0].appendChild(d)}}if(document.body){var a=document.createElement('iframe');a.height=1;a.width=1;a.style.position='absolute';a.style.top=0;a.style.left=0;a.style.border='none';a.style.visibility='hidden';document.body.appendChild(a);if('loading'!==document.readyState)c();else if(window.addEventListener)document.addEventListener('DOMContentLoaded',c);else{var e=document.onreadystatechange||function(){};document.onreadystatechange=function(b){e(b);'loading'!==document.readyState&&(document.onreadystatechange=e,c())}}}})();</script>
        <button id="btnVoltarTopo" onclick="voltarAoTopo()" class="h5-homepage pt-3">Voltar ao Topo</button>
        <script src="../static/voltatopo.js"></script>
    </body>
</html>